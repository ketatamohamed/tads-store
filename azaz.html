 <!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>My Cart</title>
  <link rel="stylesheet" href="tejrab.css" />
</head>
<body>
  <div class="container">
    <h2>Basket</h2>

    <!-- Cart items -->
    <div class="cart-list"></div>

    <!-- Summary -->
    <div class="summary">
      <h3>Summary</h3>
      <p>Subtotal: <span id="subtotal">TND 0.00</span></p>
      <p>Shipment: <span id="shipment">TND 0.00</span></p>
      <p>Discounts: <span id="discounts">- TND 0.00</span></p>
      <h4>Total: <span id="total">TND 0.00</span></h4>
    </div>

    <!-- Back button -->
    <a href="test3.html" class="btn outline">‚Üê Back to Home</a>

    <!-- Send Email button -->
    <button id="send-email-btn">Send Shopping List to Email</button>
  </div>

  <!-- Your JS files -->
  <script type="module" src="./cartcreation.js"></script>
  

  <!-- EmailJS ES Module SDK -->
  <script type="module">
 import emailjs from 'https://cdn.skypack.dev/@emailjs/browser';
  import { cart } from './cartcreation.js';

  emailjs.init("EeQfYEqajo9-uX59A");

  document.getElementById("send-email-btn").addEventListener("click", () => {
    // use cart safely here
  });console.log("sendEmail triggered");

    function sendEmail() {
    // check cart contents
    if (!cart || cart.length === 0) {
      alert("Cart is empty!");
      return;
    }

    // send email logic...
  }

    let message = "üõí Shopping List:\n";
    cart.forEach(item => {
      message += `‚Ä¢ ${item.name} x ${item.quantity}\n`;
    });

    console.log("Message to send:", message);

    emailjs.send("service_b64w9vy", "template_ugtn2z9", {
      message: message,
      to_name: "mohamed ketata",
      reply_to: "tadsvicetresorier@gmail.com"
    })
    .then(response => {
      alert("‚úÖ Email sent successfully!");
      console.log("SUCCESS", response);
    })
    .catch(error => {
      alert("‚ùå Failed to send email: " + error.text);
      console.error("ERROR", error);
    });
    
</script>

</body>
</html>